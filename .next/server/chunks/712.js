"use strict";exports.id=712,exports.ids=[712],exports.modules={712:(n,t,e)=>{e.d(t,{Z:()=>a,r:()=>o});var s=e(8013);let InMemoryDB=class InMemoryDB{async collection(n){return{findOne:async t=>"jackpotState"===n?this.data.jackpotState:"winners"===n?this.data.winners:null,updateOne:async(t,e)=>("jackpotState"===n&&(this.data.jackpotState={...this.data.jackpotState,...e.$set}),{modifiedCount:1}),insertOne:async t=>("winners"===n&&("jackpot"===t.winType?(this.data.winners.jackpotWinners.unshift(t),this.data.winners.jackpotWinners=this.data.winners.jackpotWinners.slice(0,10)):"major"===t.winType?(this.data.winners.majorWinners.unshift(t),this.data.winners.majorWinners=this.data.winners.majorWinners.slice(0,10)):"minor"===t.winType&&(this.data.winners.minorWinners.unshift(t),this.data.winners.minorWinners=this.data.winners.minorWinners.slice(0,10))),{insertedId:Date.now().toString()})}}constructor(){this.data={jackpotState:{pool:0,burned:0,spins:0,progress:{minors:0,majors:0}},winners:{jackpotWinners:[],majorWinners:[],minorWinners:[]}}}};let i=null,o=null;if(process.env.MONGODB_URI)try{let n=process.env.MONGODB_URI;i=new s.MongoClient(n,{}).connect()}catch(n){console.log("MongoDB connection failed, using in-memory storage:",n),o=new InMemoryDB}else console.log("MongoDB URI not found, using in-memory storage"),o=new InMemoryDB;let a=i}};