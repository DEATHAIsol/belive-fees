"use strict";(()=>{var e={};e.id=512,e.ids=[512],e.modules={8013:e=>{e.exports=require("mongodb")},1287:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},415:(e,t,o)=>{o.r(t),o.d(t,{config:()=>u,default:()=>i,routeModule:()=>d});var s={};o.r(s),o.d(s,{default:()=>handler});var a=o(1802),n=o(7153),r=o(6249),l=o(712);async function handler(e,t){if("GET"!==e.method)return t.status(405).json({message:"Method not allowed"});try{if(l.Z&&null===l.r){let e=await l.Z,o=e.db("belive-jackpot"),s=o.collection("rounds"),a=await s.countDocuments();t.status(200).json({totalContests:a})}else t.status(200).json({totalContests:0})}catch(e){console.error("Error fetching total contests:",e),t.status(200).json({totalContests:0})}}let i=(0,r.l)(s,"default"),u=(0,r.l)(s,"config"),d=new a.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/total-contests",pathname:"/api/total-contests",bundlePath:"",filename:""},userland:s})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[222,712],()=>__webpack_exec__(415));module.exports=o})();