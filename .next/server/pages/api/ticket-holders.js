"use strict";(()=>{var e={};e.id=845,e.ids=[845],e.modules={1287:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9648:e=>{e.exports=import("axios")},1498:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>l,default:()=>c,routeModule:()=>u});var s=a(1802),n=a(7153),o=a(6249),i=a(2164),d=e([i]);i=(d.then?(await d)():d)[0];let c=(0,o.l)(i,"default"),l=(0,o.l)(i,"config"),u=new s.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/ticket-holders",pathname:"/api/ticket-holders",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},2164:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>handler});var s=a(6834),n=e([s]);async function handler(e,t){if("GET"!==e.method)return t.status(405).json({message:"Method not allowed"});try{let e=process.env.TOKEN_ADDRESS;if(!e)return t.status(500).json({message:"Token address not configured"});let a=await (0,s.gb)(e),r=a.reduce((e,t)=>e+t.tickets,0),n=a.map(e=>({...e,winChance:r>0?(e.tickets/r*100).toFixed(2):"0"}));t.status(200).json(n)}catch(e){console.error("Error fetching ticket holders:",e),t.status(500).json({message:"Internal server error"})}}s=(n.then?(await n)():n)[0],r()}catch(e){r(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[222,834],()=>__webpack_exec__(1498));module.exports=a})();