"use strict";(()=>{var e={};e.id=284,e.ids=[284],e.modules={8013:e=>{e.exports=require("mongodb")},1287:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1817:(e,t,r)=>{r.r(t),r.d(t,{config:()=>u,default:()=>d,routeModule:()=>l});var n={};r.r(n),r.d(n,{default:()=>handler});var a=r(1802),o=r(7153),s=r(6249),i=r(712);async function handler(e,t){if("GET"!==e.method)return t.status(405).json({message:"Method not allowed"});try{if(i.Z&&null===i.r){let e=await i.Z,r=e.db("belive-jackpot"),n=r.collection("rounds"),a=await n.find({}).sort({round:-1}).limit(1).toArray();if(0===a.length)return t.status(200).json({round:1,timestamp:new Date().toISOString(),winner:"",rewardAmount:"0",holders:[]});t.status(200).json(a[0])}else t.status(200).json({round:1,timestamp:new Date().toISOString(),winner:"",rewardAmount:"0",holders:[]})}catch(e){console.error("Error fetching latest round:",e),t.status(200).json({round:1,timestamp:new Date().toISOString(),winner:"",rewardAmount:"0",holders:[]})}}let d=(0,s.l)(n,"default"),u=(0,s.l)(n,"config"),l=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/latest-round",pathname:"/api/latest-round",bundlePath:"",filename:""},userland:n})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[222,712],()=>__webpack_exec__(1817));module.exports=r})();