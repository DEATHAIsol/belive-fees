(()=>{var e={};e.id=915,e.ids=[915],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},1041:e=>{"use strict";e.exports=require("node:url")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4502:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=t(7096),a=t(6132),i=t(7284),l=t.n(i),n=t(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["slot",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5810)),"/Users/jackheaton/Desktop/crypto/crypto/BELIVEFEES/app/slot/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"/Users/jackheaton/Desktop/crypto/crypto/BELIVEFEES/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/jackheaton/Desktop/crypto/crypto/BELIVEFEES/app/slot/page.tsx"],p="/slot/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/slot/page",pathname:"/slot",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7639:(e,s,t)=>{Promise.resolve().then(t.bind(t,6115))},6115:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>SlotMachinePage});var r=t(784),a=t(9651),i=t(5833),l=t(9885),n=t(1771);let o=[{name:"Bonk Dog",emoji:"\uD83D\uDC36"},{name:"Banana",emoji:"\uD83C\uDF4C"},{name:"Rug",emoji:"\uD83E\uDDF6"},{name:"Fire",emoji:"\uD83D\uDD25"},{name:"Diamond",emoji:"\uD83D\uDC8E"},{name:"Rocket",emoji:"\uD83D\uDE80"},{name:"Skull",emoji:"\uD83D\uDC80"}];function SlotMachinePage(){let{connected:e,publicKey:s}=(0,n.O)(),[t,c]=(0,l.useState)([0,0,0,0,0]),[d,p]=(0,l.useState)(!1),[u,x]=(0,l.useState)([]),[m,h]=(0,l.useState)(null),[j,g]=(0,l.useState)(null);(0,l.useEffect)(()=>{let fetchJackpot=async()=>{let e=await fetch("/api/jackpot-state");e.ok&&h(await e.json())},fetchLeaderboard=async()=>{let e=await fetch("/api/leaderboard");e.ok&&g(await e.json())};fetchJackpot(),fetchLeaderboard();let e=setInterval(()=>{fetchJackpot(),fetchLeaderboard()},6e4);return()=>clearInterval(e)},[]);let spin=async(e=1)=>{if(!d&&s){p(!0);for(let t=0;t<e;t++){let r=await fetch("/api/spin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:s.toString(),spinType:1===e?"single":10===e?"ten":"hundred"})}),a=await r.json();c(a.reels||[0,0,0,0,0]),x(e=>[`Spin ${t+1}: ${a.symbols?a.symbols.map(e=>{let s=o.find(s=>s.name.toLowerCase().includes(e));return s?s.emoji:e}).join(" "):""}${a.winType?"none"!==a.winType?" ("+a.winType.toUpperCase()+")":"":a.result&&"none"!==a.result?" ("+a.result.toUpperCase()+")":""}`,...e.slice(0,9)]),await new Promise(e=>setTimeout(e,800))}p(!1)}};return(0,r.jsxs)("div",{className:"flex min-h-screen bg-background",children:[r.jsx(a.default,{}),(0,r.jsxs)("div",{className:"flex-1 p-8 flex flex-col items-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2 text-primary",children:"Bonk Slots"}),r.jsx("p",{className:"mb-2 text-lg text-gray-400",children:"Spin your way to the next degen jackpot."}),r.jsx("p",{className:"mb-6 text-accent font-semibold",children:"1 free spin for every 10,000 tokens owned"}),r.jsx("div",{className:"mb-8",children:r.jsx(i.Z,{})}),e?(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsxs)("div",{className:"w-full max-w-xl bg-gray-900 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Jackpot Progress"}),(0,r.jsxs)("div",{className:"mb-2",children:["Minors: ",(0,r.jsxs)("span",{className:"text-accent font-bold",children:[Math.round(100*m.progress.minors),"%"]})," | Majors: ",(0,r.jsxs)("span",{className:"text-accent font-bold",children:[Math.round(100*m.progress.majors),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded h-3 overflow-hidden",children:r.jsx("div",{className:"bg-primary h-3",style:{width:`${100*m.progress.minors}%`}})}),r.jsx("div",{className:"w-full bg-gray-700 rounded h-3 overflow-hidden mt-2",children:r.jsx("div",{className:"bg-accent h-3",style:{width:`${100*m.progress.majors}%`}})})]}),(0,r.jsxs)("div",{className:"bg-secondary rounded-lg p-8 flex flex-col items-center mb-8",children:[r.jsx("div",{className:"flex space-x-4 mb-6",children:t.map((e,s)=>r.jsx("div",{className:"w-20 h-20 flex items-center justify-center text-5xl bg-gray-800 rounded-lg border-4 border-primary shadow-lg",children:o[e].emoji},s))}),(0,r.jsxs)("div",{className:"flex space-x-4 mb-4",children:[r.jsx("button",{className:"bg-primary text-white px-6 py-2 rounded-lg font-bold disabled:opacity-50",onClick:()=>spin(1),disabled:d,children:"Spin 1x"}),r.jsx("button",{className:"bg-primary text-white px-6 py-2 rounded-lg font-bold disabled:opacity-50",onClick:()=>spin(10),disabled:d,children:"Spin 10x"}),r.jsx("button",{className:"bg-primary text-white px-6 py-2 rounded-lg font-bold disabled:opacity-50",onClick:()=>spin(100),disabled:d,children:"Spin 100x"})]}),r.jsx("p",{className:"text-gray-400 mb-2",children:"You must own at least 10,000 BONK tokens to spin."}),(0,r.jsxs)("div",{className:"w-full max-w-md mt-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Spin Log"}),r.jsx("ul",{className:"bg-gray-900 rounded-lg p-4 h-40 overflow-y-auto text-sm",children:u.map((e,s)=>r.jsx("li",{children:e},s))})]})]}),j&&(0,r.jsxs)("div",{className:"w-full max-w-xl bg-gray-900 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-2",children:"Recent Winners"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-accent mb-1",children:"Jackpot"}),r.jsx("ul",{className:"text-xs",children:j.jackpotWinners.map((e,s)=>(0,r.jsxs)("li",{children:[e.wallet?.slice(0,6),"...",e.wallet?.slice(-4)," (",e.prizeAmount," SOL)"]},s))})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-primary mb-1",children:"Major"}),r.jsx("ul",{className:"text-xs",children:j.majorWinners.map((e,s)=>(0,r.jsxs)("li",{children:[e.wallet?.slice(0,6),"...",e.wallet?.slice(-4)]},s))})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-semibold text-yellow-400 mb-1",children:"Minor"}),r.jsx("ul",{className:"text-xs",children:j.minorWinners.map((e,s)=>(0,r.jsxs)("li",{children:[e.wallet?.slice(0,6),"...",e.wallet?.slice(-4)]},s))})]})]})]})]}):r.jsx("div",{className:"text-center text-gray-400 mb-8",children:"Connect your wallet to start spinning!"})]})]})}},5810:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var r=t(5153);let a=(0,r.createProxy)(String.raw`/Users/jackheaton/Desktop/crypto/crypto/BELIVEFEES/app/slot/page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[863,440,618,224,651,833],()=>__webpack_exec__(4502));module.exports=t})();