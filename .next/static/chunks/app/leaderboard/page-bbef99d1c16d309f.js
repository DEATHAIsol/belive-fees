(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{3534:function(e,t,s){Promise.resolve().then(s.bind(s,8392))},8392:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return LeaderboardPage}});var r=s(7437),n=s(2265),a=s(1396),l=s.n(a),i=s(2070);function LeaderboardPage(){var e,t,s,a,c,d;let[o,x]=(0,n.useState)(null),[m,h]=(0,n.useState)(!0),[u,p]=(0,n.useState)("all");(0,n.useEffect)(()=>{let fetchLeaderboard=async()=>{try{let e=await fetch("/api/leaderboard");e.ok&&x(await e.json())}catch(e){console.error("Error fetching leaderboard:",e)}finally{h(!1)}};fetchLeaderboard();let e=setInterval(fetchLeaderboard,3e4);return()=>clearInterval(e)},[]);let formatDate=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),getAllWinners=()=>{if(!o)return[];let e=[];return o.jackpotWinners.forEach(t=>{e.push({...t,winType:"jackpot"})}),o.majorWinners.forEach(t=>{e.push({...t,winType:"major"})}),o.minorWinners.forEach(t=>{e.push({...t,winType:"minor"})}),e.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())},getFilteredWinners=()=>{let e=getAllWinners();return"all"===u?e:e.filter(e=>e.winType===u)},getWinTypeColor=e=>{switch(e){case"jackpot":return"text-yellow-400";case"major":return"text-blue-400";case"minor":return"text-green-400";default:return"text-gray-300"}},getWinTypeIcon=e=>{switch(e){case"jackpot":return"\uD83C\uDFC6";case"major":return"\uD83D\uDC8E";case"minor":return"✨";default:return"\uD83C\uDFB0"}};return m?(0,r.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,r.jsx)(i.default,{}),(0,r.jsx)("div",{className:"flex-1 p-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-700 rounded w-1/4 mb-8"}),(0,r.jsx)("div",{className:"h-96 bg-gray-700 rounded"})]})})]}):(0,r.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,r.jsx)(i.default,{}),(0,r.jsxs)("div",{className:"flex-1 p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Leaderboard"}),(0,r.jsx)("p",{className:"text-gray-400",children:"All-time winners and their achievements"})]}),(0,r.jsx)(l(),{href:"/slot",className:"bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-primary/90 transition-colors",children:"\uD83C\uDFB0 Play Now"})]}),(0,r.jsx)("div",{className:"flex space-x-1 mb-8 bg-gray-800 rounded-lg p-1",children:[{key:"all",label:"All Winners",count:getAllWinners().length},{key:"jackpot",label:"Jackpot",count:(null==o?void 0:null===(e=o.jackpotWinners)||void 0===e?void 0:e.length)||0},{key:"major",label:"Major",count:(null==o?void 0:null===(t=o.majorWinners)||void 0===t?void 0:t.length)||0},{key:"minor",label:"Minor",count:(null==o?void 0:null===(s=o.minorWinners)||void 0===s?void 0:s.length)||0}].map(e=>(0,r.jsxs)("button",{onClick:()=>p(e.key),className:"flex-1 py-2 px-4 rounded-md font-medium transition-colors ".concat(u===e.key?"bg-primary text-white":"text-gray-400 hover:text-white"),children:[e.label," (",e.count,")"]},e.key))}),(0,r.jsxs)("div",{className:"bg-secondary rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-800",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Rank"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Wallet"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Win Type"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Prize"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-300",children:"Date"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:getFilteredWinners().map((e,t)=>{var s,n;return(0,r.jsxs)("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[(0,r.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-300",children:["#",t+1]}),(0,r.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-300 font-mono",children:[null===(s=e.wallet)||void 0===s?void 0:s.slice(0,6),"...",null===(n=e.wallet)||void 0===n?void 0:n.slice(-4)]}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,r.jsxs)("span",{className:"flex items-center gap-2 font-medium ".concat(getWinTypeColor(e.winType)),children:[(0,r.jsx)("span",{children:getWinTypeIcon(e.winType)}),e.winType.charAt(0).toUpperCase()+e.winType.slice(1)]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-300",children:e.prizeAmount?"".concat(e.prizeAmount.toFixed(2)," SOL"):"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-400",children:formatDate(e.timestamp)})]},e.spinId||t)})})]})}),0===getFilteredWinners().length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFB0"}),(0,r.jsx)("p",{className:"text-gray-400 text-lg",children:"No winners yet. Be the first to hit the jackpot!"}),(0,r.jsx)(l(),{href:"/slot",className:"inline-block mt-4 bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-primary/90 transition-colors",children:"Start Spinning"})]})]}),o&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:(null===(a=o.jackpotWinners)||void 0===a?void 0:a.length)||0}),(0,r.jsx)("div",{className:"text-gray-400",children:"Jackpot Wins"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:(null===(c=o.majorWinners)||void 0===c?void 0:c.length)||0}),(0,r.jsx)("div",{className:"text-gray-400",children:"Major Wins"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-400 mb-2",children:(null===(d=o.minorWinners)||void 0===d?void 0:d.length)||0}),(0,r.jsx)("div",{className:"text-gray-400",children:"Minor Wins"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-white mb-2",children:getAllWinners().length}),(0,r.jsx)("div",{className:"text-gray-400",children:"Total Winners"})]})]})]})]})}},2070:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Sidebar}});var r=s(7437),n=s(1396),a=s.n(n),l=s(4033);function Sidebar(){let e=(0,l.usePathname)();return(0,r.jsxs)("div",{className:"w-64 bg-secondary min-h-screen p-6",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-primary",children:"Bonk Spins"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Spin your way to the next degen jackpot."})]}),(0,r.jsx)("nav",{className:"space-y-2",children:[{href:"/slot",label:"Slot Machine",icon:"\uD83C\uDFB0"},{href:"/",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/leaderboard",label:"Leaderboard",icon:"\uD83C\uDFC6"},{href:"/dev-test",label:"Dev Test",icon:"\uD83E\uDDEA"},{href:"/about",label:"About",icon:"ℹ️"}].map(t=>{let s=e===t.href;return(0,r.jsxs)(a(),{href:t.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(s?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[(0,r.jsx)("span",{className:"text-lg",children:t.icon}),(0,r.jsx)("span",{className:"font-medium",children:t.label})]},t.href)})})]})}},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[176,971,472,744],function(){return e(e.s=3534)}),_N_E=e.O()}]);